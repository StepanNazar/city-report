<div class="post-page">
  @if (isLoading()) {
  <div class="loading-state">
    <div class="spinner"></div>
    <p>Loading post...</p>
  </div>
  } @else if (post()) {
  @if (isEditing()) {
  <section class="post-edit-section">
    <app-post-edit [post]="post()!" (saveClicked)="updatePost($event)" (cancelClicked)="cancelEditPost()">
    </app-post-edit>
  </section>
  } @else {
  <app-post [post]="post()!" (editClicked)="startEditPost()" (deleteClicked)="deletePost()">
  </app-post>
  }

  <section class="solutions-section">
    <app-solutions [postId]="post()!.id" [postAuthorId]="post()!.authorId">
    </app-solutions>
  </section>
  } @else {
  <div class="error-state">
    <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="#E03E3E" stroke-width="2">
      <circle cx="12" cy="12" r="10" />
      <line x1="12" y1="8" x2="12" y2="12" />
      <line x1="12" y1="16" x2="12.01" y2="16" />
    </svg>
    <h2>Post not found</h2>
    <p>The post you're looking for doesn't exist or has been removed.</p>
    <button type="button" class="back-home-btn" routerLink="/">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M19 12H5M12 19l-7-7 7-7" />
      </svg>
      Back to Home
    </button>
  </div>
  }
</div>