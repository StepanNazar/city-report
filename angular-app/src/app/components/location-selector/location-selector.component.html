<div class="location-selector">
  <div class="location-search-group">
    <label>Search Location</label>
    <div class="search-inputs">
      <input type="text" placeholder="Country" [(ngModel)]="typedInCountry" (keydown.enter)="onSearch()"/>
      <input type="text" placeholder="State" [(ngModel)]="typedInState" (keydown.enter)="onSearch()"/>
      <input type="text" placeholder="City" [(ngModel)]="typedInLocality" (keydown.enter)="onSearch()"/>
    </div>
    <button type="button" class="search-button" (click)="onSearch()" [disabled]="isLoading()">
      @if (isLoading()) {
        Searching...
      } @else {
        Search
      }
    </button>
  </div>

  @if (error()) {
    <div class="error-message-box">{{ error() }}</div>
  }

  @if (localityOptions.length > 0) {
    <div class="location-results">
      <label for="location-select">Select Location</label>
      <select id="location-select" [(ngModel)]="selectedLocation" (ngModelChange)="onSelectLocation()">
        @for (locality of localityOptions; track locality.id) {
          <option [ngValue]="locality">{{locality.name}}</option>
        }
      </select>
    </div>
  }
</div>

